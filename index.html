<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
  <div>
  <button id="rock">Rock</button>
  <button id="paper">Paper</button>
  <button id="scissors">Scissors</button>
  </div>
  <div>
      <div id="results">
          <p id="player-score">Your score is: 0</p>
          <p id="computer-score">The computer score is: 0</p>
          <p id="result-tie">Tie rounds: 0</p>
          <p id="result"></p>
      </div>
  </div>
</body>
<script>
//begin with a function called getComputerChoice that will randomly return either ‘Rock’, ‘Paper’ or ‘Scissors’. 
const options = ["rock","paper","scissors"];
var playerScore = 0;
var computerScore = 0;
var ties = 0;

function getComputerChoice(){
    var selection = options[Math.floor(Math.random()*options.length)];
    console.log('computer selected '+selection);
    return selection;
}
// function playerSelection(){
//   var userSelection= prompt("Make your selection: Rock, Paper or Scissors?: ","selection");
//   userSelection = userSelection.toLowerCase();
//   return userSelection;
// }
rButton = document.querySelector('#rock');
rButton.addEventListener("click", function(){
    let userSelection = event.target.id;
    let computerSelection = getComputerChoice();
    playRound(userSelection,computerSelection);
});
pButton = document.querySelector('#paper');
pButton.addEventListener("click", function(){
    let userSelection = event.target.id;
    let computerSelection = getComputerChoice();
    playRound(userSelection,computerSelection);
});
sButton = document.querySelector('#scissors');
sButton.addEventListener("click", function(){
    let userSelection = event.target.id;
    let computerSelection = getComputerChoice();
    playRound(userSelection,computerSelection);
});
//Write a function that plays a single round of Rock Paper Scissors. 
//The function should take two parameters - the playerSelection and computerSelection - and then return a string that declares the winner of the round like so: "You Lose! Paper beats Rock"
//Make your function’s playerSelection parameter case-insensitive (so users can input rock, ROCK, RocK or any other variation).


function updateScores(playerScore, computerScore, ties) {
  // Update player score
  var playerParagraph = document.getElementById("player-score");
  playerParagraph.textContent = "Your score is: " + playerScore;

  // Update computer score
  var computerParagraph = document.getElementById("computer-score");
  computerParagraph.textContent = "The computer score is: " + computerScore;

  // Update tie rounds
  var tieParagraph = document.getElementById("result-tie");
  tieParagraph.textContent = "Tie rounds: " + ties;
}


// change text to other variables in order to be able to display results***
function playRound(playerSelection, computerSelection) {
  var text ="";
  if (playerSelection == computerSelection){
    text = "It is a tie";
    ties+=1;
  }
  else if (playerSelection == options[0] && computerSelection == options[1]){
    text = "You lose!";
    computerScore+=1;
  }
  else if (playerSelection == options[1] && computerSelection == options[0]){
    text = "You win!";
    playerScore+=1;
  }
  else if (playerSelection == options[2] && computerSelection == options[0]){
    text = "You lose!";
    computerScore+=1;
  }
  else if (playerSelection == options[0] && computerSelection == options[2]){
    text = "You win!";
    playerScore+=1;
  }  
  else if (playerSelection == options[1] && computerSelection == options[2]){
    text = "You lose!";
    computerScore+=1;
  }
  else if (playerSelection == options[2] && computerSelection == options[1]){
    text = "You win!";
    playerScore+=1;
  }
  updateScores(playerScore, computerScore, ties);

  var paragraph4 = document.getElementById("result");
  var text4= document.createTextNode(text);
  paragraph4.appendChild(text4);

  // Update result
  var Paragraph5 = document.getElementById("result");
  Paragraph5.textContent = "This round: " + text;

  if (playerScore == 5 || computerScore == 5){
    var Paragraph5 = document.getElementById("result")
  
  if (playerScore > computerScore){
    text += "  Player Wins. Refresh page to restart game."
  }else{
    text += "  Computer Wins. Refresh page to restart game."
  }
  Paragraph5.textContent = "This round: " + text;
  }

}

// function game(){
//   for (let i = 0; i<5; i++){
//     var playerSelect = playerSelection();
//     var computerSelect = getComputerChoice();
//     console.log(playRound(playerSelect, computerSelect));
//   }
// }

game();
//Write a NEW function called game(). Use the previous function inside of this one to play a 5 round game that keeps score and reports a winner or loser at the end.

</script>
</html>